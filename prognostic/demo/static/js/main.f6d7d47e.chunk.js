(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{154:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),o=a.n(l),i=(a(67),a(3)),s=a(4),d=a(10),c=a(8),h=a(11),p=(a(69),a(7)),u=(a(91),a(93),a(95),a(16)),m=a.n(u),b="http://localhost/project/",g=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,[{key:"getAllPerson",value:function(){return JSON.parse(m.a.ajax({type:"POST",url:b+"getAllPerson.php",dataType:"json",async:!1,done:function(e){return e}}).responseText)}},{key:"deletePerson",value:function(e){return m.a.ajax({type:"POST",url:b+"deletePerson.php",data:{Id:e},async:!1,done:function(e){return e}}).responseText}},{key:"insertPerson",value:function(e,t,a,n){return m.a.ajax({type:"POST",url:b+"insertPerson.php",data:{Name:e,Salary:t,SocialFactor:a,IncrementFactor:n},async:!1,done:function(e){return e}}).responseText}},{key:"updatePerson",value:function(e,t,a,n,r){return m.a.ajax({type:"POST",url:b+"updatePerson.php",data:{Id:e,Name:t,Salary:a,SocialFactor:n,IncrementFactor:r},async:!1,done:function(e){return e}}).responseText}}]),e}(),S=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,[{key:"getAllProject",value:function(){return JSON.parse(m.a.ajax({type:"POST",url:b+"getAllProject.php",dataType:"json",async:!1,done:function(e){return e}}).responseText)}},{key:"deleteProject",value:function(e){return m.a.ajax({type:"POST",url:b+"deleteProject.php",data:{Id:e},async:!1,done:function(e){return e}}).responseText}},{key:"insertProject",value:function(e,t,a,n,r,l,o,i,s,d,c,h,p,u,g,S,v){return m.a.ajax({type:"POST",url:b+"insertProject.php",data:{Name:e,EndDate:t,Stl:a,ExternalSalary:n,ExternalOverhead:r,ExternalOtherCost:l,InternalSalary:o,InternalOverhead:i,InternalOtherCost:s,SpendingExternalSalary:d,SpendingExternalOverhead:c,SpendingExternalOtherCost:h,SpendingInternalSalary:p,SpendingInternalOverhead:u,SpendingInternalOtherCost:g,SpendingDate:S,OverheadConstant:v},async:!1,done:function(e){return e}}).responseText}},{key:"updateProject",value:function(e,t,a,n,r,l,o,i,s,d,c,h,p,u,g,S,v,T){return m.a.ajax({type:"POST",url:b+"updateProject.php",data:{Id:e,Name:t,EndDate:a,Stl:n,ExternalSalary:r,ExternalOverhead:l,ExternalOtherCost:o,InternalSalary:i,InternalOverhead:s,InternalOtherCost:d,SpendingExternalSalary:c,SpendingExternalOverhead:h,SpendingExternalOtherCost:p,SpendingInternalSalary:u,SpendingInternalOverhead:g,SpendingInternalOtherCost:S,SpendingDate:v,OverheadConstant:T},async:!1,done:function(e){return e}}).responseText}}]),e}(),v=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,[{key:"getAllAllocation",value:function(){return JSON.parse(m.a.ajax({type:"POST",url:b+"getAllAllocation.php",dataType:"json",async:!1,done:function(e){return e}}).responseText)}},{key:"deleteAllocation",value:function(e){return m.a.ajax({type:"POST",url:b+"deleteAllocation.php",data:{Id:e},async:!1,done:function(e){return e}}).responseText}},{key:"insertAllocation",value:function(e,t,a,n,r){return m.a.ajax({type:"POST",url:b+"insertAllocation.php",data:{personId:e,projectId:t,Percentage:a,StartDate:n,EndDate:r},async:!1,done:function(e){return e}}).responseText}},{key:"updateAllocation",value:function(e,t,a,n){return m.a.ajax({type:"POST",url:b+"updateAllocation.php",data:{Id:e,Percentage:t,StartDate:a,EndDate:n},async:!1,done:function(e){return e}}).responseText}}]),e}(),T=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,[{key:"getAllEndBalance",value:function(){return JSON.parse(m.a.ajax({type:"POST",url:b+"getAllEndbalance.php",dataType:"json",async:!1,done:function(e){return e}}).responseText)}}]),e}(),E=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,[{key:"getAllRemaining",value:function(){return JSON.parse(m.a.ajax({type:"POST",url:b+"getAllRemaining.php",dataType:"json",async:!1,done:function(e){return e}}).responseText)}}]),e}(),I=function(){function e(){return Object(i.a)(this,e),e.instance||(e.instance=this,console.log("PHPController created"),this.init()),e.instance}return Object(s.a)(e,[{key:"init",value:function(){var e=new g;this.personClass=e,this.personTable=e.getAllPerson();var t=new S;this.projectClass=t,this.projectTable=t.getAllProject();var a=new v;this.allocationClass=a,this.allocationTable=a.getAllAllocation();var n=new T;this.endbalanceClass=n,this.endbalanceTable=n.getAllEndBalance();var r=new E;this.remainingClass=r,this.remainingTable=r.getAllRemaining(),this.deletedPersons=[],this.deletedProjects=[],this.deletedAllocations=[]}},{key:"getEndBalances",value:function(){return this.endbalanceTable}},{key:"getRemainings",value:function(){return this.remainingTable}},{key:"getPersons",value:function(){return this.personTable}},{key:"getProjects",value:function(){return this.projectTable}},{key:"insertPerson",value:function(e){"T"==e.Id.charAt(0)&&"I"==e.Flag&&this.personTable.push(e),this.refreshEndBalance()}},{key:"updatePerson",value:function(e){for(var t=0;t<this.personTable.length;t++)this.personTable[t].Id==e.Id&&"U"==e.Flag&&(this.personTable[t].Name=e.Name,this.personTable[t].Salary=e.Salary,this.personTable[t].SocialFactor=e.SocialFactor,this.personTable[t].IncrementFactor=e.IncrementFactor,this.personTable[t].Flag=e.Flag);for(t=0;t<this.allocationTable.length;t++)this.allocationTable[t].personId==e.Id&&(this.allocationTable[t].personName=e.Name);this.refreshEndBalance()}},{key:"deletePerson",value:function(e){for(var t=0;t<this.personTable.length;t++)if(this.personTable[t].Id==e.Id&&"D"==e.Flag&&"T"==e.Id.charAt(0)){this.personTable.splice(t,1),t--;for(var a=0;a<this.allocationTable.length;a++)this.allocationTable[a].personId==e.Id&&(this.allocationTable.splice(a,1),a--)}else if(this.personTable[t].Id==e.Id&&"D"==e.Flag){this.deletedPersons.push(e.Id),this.personTable.splice(t,1),t--;for(a=0;a<this.allocationTable.length;a++)this.allocationTable[a].personId==e.Id&&(this.deletedAllocations.push(this.allocationTable[a].Id),this.allocationTable.splice(a,1),a--)}this.refreshEndBalance()}},{key:"insertProject",value:function(e){"T"==e.Id.charAt(0)&&"I"==e.Flag&&this.projectTable.push(e),this.refreshRemaining(),this.refreshEndBalance()}},{key:"updateProject",value:function(e){for(var t=0;t<this.projectTable.length;t++)this.projectTable[t].Id==e.Id&&"U"==e.Flag&&(console.log(this.projectTable[t]),this.projectTable[t].Name=e.Name,this.projectTable[t].EndDate=e.EndDate,this.projectTable[t].Stl=e.Stl,this.projectTable[t].ExternalOverhead=e.ExternalOverhead,this.projectTable[t].ExternalOtherCost=e.ExternalOtherCost,this.projectTable[t].InternalSalary=e.InternalSalary,this.projectTable[t].InternalOverhead=e.InternalOverhead,this.projectTable[t].InternalOtherCost=e.InternalOtherCost,this.projectTable[t].SpendingExternalSalary=e.SpendingExternalSalary,this.projectTable[t].SpendingExternalOverhead=e.SpendingExternalOverhead,this.projectTable[t].SpendingExternalOtherCost=e.SpendingExternalOtherCost,this.projectTable[t].SpendingInternalSalary=e.SpendingInternalSalary,this.projectTable[t].SpendingInternalOverhead=e.SpendingInternalOverhead,this.projectTable[t].SpendingInternalOtherCost=e.SpendingInternalOtherCost,this.projectTable[t].SpendingDate=e.SpendingDate,this.projectTable[t].OverheadConstant=e.OverheadConstant,this.projectTable[t].ExternalSalary=e.ExternalSalary,this.projectTable[t].Flag=e.Flag);for(t=0;t<this.allocationTable.length;t++)this.allocationTable[t].projectId==e.Id&&(this.allocationTable[t].projectName=e.Name);this.refreshRemaining(),this.refreshEndBalance()}},{key:"deleteProject",value:function(e){for(var t=0;t<this.projectTable.length;t++)if(this.projectTable[t].Id==e.Id&&"D"==e.Flag&&"T"==e.Id.charAt(0)){this.projectTable.splice(t,1),t--;for(var a=0;a<this.allocationTable.length;a++)this.allocationTable[a].projectId==e.Id&&(this.allocationTable.splice(a,1),a--)}else if(this.projectTable[t].Id==e.Id&&"D"==e.Flag){this.deletedProjects.push(e.Id),this.projectTable.splice(t,1),t--;for(a=0;a<this.allocationTable.length;a++)this.allocationTable[a].projectId==e.Id&&(this.deletedAllocations.push(this.allocationTable[a].Id),this.allocationTable.splice(a,1),a--)}this.refreshRemaining(),this.refreshEndBalance()}},{key:"insertAllocation",value:function(e){"T"==e.Id.charAt(0)&&"I"==e.Flag&&this.allocationTable.push(e),this.refreshEndBalance()}},{key:"updateAllocation",value:function(e){for(var t=0;t<this.allocationTable.length;t++)this.allocationTable[t].Id==e.Id&&"U"==e.Flag&&(this.allocationTable[t].Percentage=e.Percentage,this.allocationTable[t].StartDate=e.StartDate,this.allocationTable[t].EndDate=e.EndDate,this.allocationTable[t].Flag=e.Flag);this.refreshEndBalance()}},{key:"deleteAllocation",value:function(e){for(var t=0;t<this.allocationTable.length;t++)this.allocationTable[t].Id==e.Id&&"D"==e.Flag&&"T"==e.Id.charAt(0)?(this.allocationTable.splice(t,1),t--):this.allocationTable[t].Id==e.Id&&"D"==e.Flag&&(this.deletedAllocations.push(e.Id),this.allocationTable.splice(t,1),t--);this.refreshEndBalance()}},{key:"getAllocation",value:function(e){for(var t=[],a=0;a<this.allocationTable.length;a++)this.allocationTable[a].personId==e&&t.push(this.allocationTable[a]);return t}},{key:"refreshRemaining",value:function(){this.remainingTable=[];for(var e=0;e<this.projectTable.length;e++)"D"!=this.projectTable[e].Flag&&this.remainingTable.push({Id:this.projectTable[e].Id,Name:this.projectTable[e].Name,SpendingDate:this.projectTable[e].SpendingDate,ExternalSalary:this.projectTable[e].ExternalSalary-this.projectTable[e].SpendingExternalSalary,ExternalOverhead:this.projectTable[e].ExternalOverhead-this.projectTable[e].SpendingExternalOverhead,ExternalOtherCost:this.projectTable[e].ExternalOtherCost-this.projectTable[e].SpendingExternalOtherCost,InternalSalary:this.projectTable[e].InternalSalary-this.projectTable[e].SpendingInternalSalary,InternalOverhead:this.projectTable[e].InternalOverhead-this.projectTable[e].SpendingInternalOverhead,InternalOtherCost:this.projectTable[e].InternalOtherCost-this.projectTable[e].SpendingInternalOtherCost})}},{key:"refreshEndBalance",value:function(){this.endbalanceTable=[];for(var e=[],t=0;t<this.allocationTable.length;t++){(r={all_projectId:"",pr_SpendingDate:"",all_StartDate:"",all_EndDate:"",all_Percentage:"",p_SocialFactor:"",p_Salary:""}).all_projectId=this.allocationTable[t].projectId,r.all_StartDate=this.allocationTable[t].StartDate,r.all_EndDate=this.allocationTable[t].EndDate,r.all_Percentage=this.allocationTable[t].Percentage;for(var a=0;a<this.projectTable.length;a++)this.allocationTable[t].projectId==this.projectTable[a].Id&&(r.pr_SpendingDate=this.projectTable[a].SpendingDate);for(a=0;a<this.personTable.length;a++)this.allocationTable[t].personId==this.personTable[a].Id&&(r.p_SocialFactor=this.personTable[a].SocialFactor,r.p_Salary=this.personTable[a].Salary);e.push(r)}var n=[];for(t=0;t<this.projectTable.length;t++){var r={projectId:"",Salary:""},l=0;for(a=0;a<e.length;a++){var o;if(e[a].all_projectId==this.projectTable[t].Id)o=""==e[a].pr_SpendingDate?e[a].all_StartDate:e[a].all_StartDate>e[a].pr_SpendingDate?e[a].all_StartDate:e[a].pr_SpendingDate,l+="0.01"*this.monthDiff(o,e[a].all_EndDate)*parseFloat(e[a].all_Percentage)*(1+parseFloat(e[a].p_SocialFactor))*parseFloat(e[a].p_Salary),r.projectId=this.projectTable[t].Id,r.Salary=l}""!=r.projectId&&n.push(r)}var i=[];for(t=0;t<n.length;t++){(r={pr_Id:"",pr_Name:"",pr_ExternalSalary:"",pr_InternalSalary:"",r_ExternalSalary:"",sc_Salary:"",r_InternalSalary:"",pr_ExternalOverhead:"",pr_InternalOverhead:"",r_ExternalOverhead:"",r_InternalOverhead:"",pr_OverheadConstant:"","r_ExternalOtherCost,":"",r_InternalOtherCost:""}).sc_Salary=n[t].Salary;for(a=0;a<this.projectTable.length;a++)n[t].projectId==this.projectTable[a].Id&&(r.pr_Id=this.projectTable[a].Id,r.pr_Name=this.projectTable[a].Name,r.pr_ExternalSalary=this.projectTable[a].ExternalSalary,r.pr_InternalSalary=this.projectTable[a].InternalSalary,r.pr_ExternalOverhead=this.projectTable[a].ExternalOverhead,r.pr_InternalOverhead=this.projectTable[a].InternalOverhead,r.pr_OverheadConstant=this.projectTable[a].OverheadConstant);for(a=0;a<this.remainingTable.length;a++)n[t].projectId==this.remainingTable[a].Id&&(r.r_ExternalSalary=this.remainingTable[a].ExternalSalary,r.r_InternalSalary=this.remainingTable[a].InternalSalary,r.r_ExternalOverhead=this.remainingTable[a].ExternalOverhead,r.r_InternalOverhead=this.remainingTable[a].InternalOverhead,r.r_ExternalOtherCost=this.remainingTable[a].ExternalOtherCost,r.r_InternalOtherCost=this.remainingTable[a].InternalOtherCost);i.push(r)}for(t=0;t<i.length;t++){(r={Id:"",Name:"",ExternalSalary:"",InternalSalary:"",ExternalOverhead:"",InternalOverhead:"",ExternalOtherCost:"",InternalOtherCost:""}).Id=i[t].pr_Id,r.Name=i[t].pr_Name,i[t].pr_ExternalSalary+i[t].pr_InternalSalary!=0?r.ExternalSalary=Math.round(100*(parseFloat(i[t].r_ExternalSalary)-parseFloat(i[t].pr_ExternalSalary)/(parseFloat(i[t].pr_ExternalSalary)+parseFloat(i[t].pr_InternalSalary))*parseFloat(i[t].sc_Salary)))/100:r.ExternalSalary=parseFloat(i[t].r_ExternalSalary)-parseFloat(i[t].sc_Salary),i[t].pr_ExternalSalary+i[t].pr_InternalSalary!=0?r.InternalSalary=Math.round(100*(parseFloat(i[t].r_InternalSalary)-parseFloat(i[t].pr_InternalSalary)/(parseFloat(i[t].pr_ExternalSalary)+parseFloat(i[t].pr_InternalSalary))*parseFloat(i[t].sc_Salary)))/100:r.InternalSalary=parseFloat(i[t].r_InternalSalary)-parseFloat(i[t].sc_Salary),i[t].pr_ExternalOverhead+i[t].pr_InternalOverhead!=0?r.ExternalOverhead=Math.round(100*(parseFloat(i[t].r_ExternalOverhead)-parseFloat(i[t].pr_ExternalOverhead)/(parseFloat(i[t].pr_ExternalOverhead)+parseFloat(i[t].pr_ExternalOverhead))*parseFloat(i[t].sc_Salary)))/100:r.ExternalOverhead=parseFloat(i[t].r_ExternalOverhead)-parseFloat(i[t].pr_OverheadConstant)*parseFloat(i[t].sc_Salary),i[t].pr_ExternalOverhead+i[t].pr_InternalOverhead!=0?r.InternalOverhead=Math.round(100*(parseFloat(i[t].r_InternalOverhead)-parseFloat(i[t].pr_InternalOverhead)/(parseFloat(i[t].pr_ExternalOverhead)+parseFloat(i[t].pr_InternalOverhead))*parseFloat(i[t].sc_Salary)))/100:r.InternalOverhead=parseFloat(i[t].r_InternalOverhead)-parseFloat(i[t].pr_OverheadConstant)*parseFloat(i[t].sc_Salary),r.ExternalOtherCost=i[t].r_ExternalOtherCost,r.InternalOtherCost=i[t].r_InternalOtherCost,this.endbalanceTable.push(r)}}},{key:"monthDiff",value:function(e,t){return new Date(t).getMonth()-new Date(e).getMonth()+12*(new Date(t).getFullYear()-new Date(e).getFullYear())}},{key:"saveAll",value:function(){for(var e=0;e<this.deletedAllocations.length;e++)this.allocationClass.deleteAllocation(this.deletedAllocations[e]);for(e=0;e<this.deletedPersons.length;e++)this.personClass.deletePerson(this.deletedPersons[e]);for(e=0;e<this.deletedProjects.length;e++)this.projectClass.deleteProject(this.deletedProjects[e]);for(e=0;e<this.personTable.length;e++)if("I"==this.personTable[e].Flag){console.log(this.personTable[e]);var t=this.personClass.insertPerson(this.personTable[e].Name,this.personTable[e].Salary,this.personTable[e].SocialFactor,this.personTable[e].IncrementFactor);console.log(t);for(var a=0;a<this.allocationTable.length;a++)this.allocationTable[a].personId==this.personTable[e].Id&&(this.allocationTable[a].personId=t)}else"U"==this.personTable[e].Flag&&"T"==this.personTable[e].Id.charAt(0)?this.personClass.insertPerson(this.personTable[e].Name,this.personTable[e].Salary,this.personTable[e].SocialFactor,this.personTable[e].IncrementFactor):"U"==this.personTable[e].Flag&&this.personClass.updatePerson(this.personTable[e].Id,this.personTable[e].Name,this.personTable[e].Salary,this.personTable[e].SocialFactor,this.personTable[e].IncrementFactor);for(e=0;e<this.projectTable.length;e++)if("I"==this.projectTable[e].Flag){t=this.projectClass.insertProject(this.projectTable[e].Name,this.projectTable[e].EndDate,this.projectTable[e].Stl,this.projectTable[e].ExternalSalary,this.projectTable[e].ExternalOverhead,this.projectTable[e].ExternalOtherCost,this.projectTable[e].InternalSalary,this.projectTable[e].InternalOverhead,this.projectTable[e].InternalOtherCost,this.projectTable[e].SpendingExternalSalary,this.projectTable[e].SpendingExternalOverhead,this.projectTable[e].SpendingExternalOtherCost,this.projectTable[e].SpendingInternalSalary,this.projectTable[e].SpendingInternalOverhead,this.projectTable[e].SpendingInternalOtherCost,this.projectTable[e].SpendingDate,this.projectTable[e].OverheadConstant);alert(t);for(a=0;a<this.allocationTable.length;a++)this.allocationTable[a].projectId==this.projectTable[e].Id&&(this.allocationTable[a].projectId=t)}else"U"==this.projectTable[e].Flag&&"T"==this.projectTable[e].Id.charAt(0)?this.projectClass.insertProject(this.projectTable[e].Name,this.projectTable[e].EndDate,this.projectTable[e].Stl,this.projectTable[e].ExternalSalary,this.projectTable[e].ExternalOverhead,this.projectTable[e].ExternalOtherCost,this.projectTable[e].InternalSalary,this.projectTable[e].InternalOverhead,this.projectTable[e].InternalOtherCost,this.projectTable[e].SpendingExternalSalary,this.projectTable[e].SpendingExternalOverhead,this.projectTable[e].SpendingExternalOtherCost,this.projectTable[e].SpendingInternalSalary,this.projectTable[e].SpendingInternalOverhead,this.projectTable[e].SpendingInternalOtherCost,this.projectTable[e].SpendingDate,this.projectTable[e].OverheadConstant):"U"==this.projectTable[e].Flag&&this.projectClass.updateProject(this.projectTable[e].Id,this.projectTable[e].Name,this.projectTable[e].EndDate,this.projectTable[e].Stl,this.projectTable[e].ExternalSalary,this.projectTable[e].ExternalOverhead,this.projectTable[e].ExternalOtherCost,this.projectTable[e].InternalSalary,this.projectTable[e].InternalOverhead,this.projectTable[e].InternalOtherCost,this.projectTable[e].SpendingExternalSalary,this.projectTable[e].SpendingExternalOverhead,this.projectTable[e].SpendingExternalOtherCost,this.projectTable[e].SpendingInternalSalary,this.projectTable[e].SpendingInternalOverhead,this.projectTable[e].SpendingInternalOtherCost,this.projectTable[e].SpendingDate,this.projectTable[e].OverheadConstant);for(e=0;e<this.allocationTable.length;e++)console.log(this.allocationTable[e]),"I"==this.allocationTable[e].Flag?this.allocationClass.insertAllocation(this.allocationTable[e].personId,this.allocationTable[e].projectId,this.allocationTable[e].Percentage,this.allocationTable[e].StartDate,this.allocationTable[e].EndDate):"U"==this.allocationTable[e].Flag&&"T"==this.allocationTable[e].Id.charAt(0)?this.allocationClass.insertAllocation(this.allocationTable[e].personId,this.allocationTable[e].projectId,this.allocationTable[e].Percentage,this.allocationTable[e].StartDate,this.allocationTable[e].EndDate):"U"==this.allocationTable[e].Flag&&this.allocationClass.updateAllocation(this.allocationTable[e].Id,this.allocationTable[e].Percentage,this.allocationTable[e].StartDate,this.allocationTable[e].EndDate);window.location.reload()}}]),e}(),f=(new I,I),O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.toggleCollapse=a.setState({isOpen:!a.state.isOpen}),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.Navbar,{className:"navbar",dark:!0,expand:"md"},r.a.createElement(p.NavbarBrand,null,r.a.createElement("strong",{className:"navbarTitle"},"PROGNOSTIC /")),r.a.createElement(p.NavbarToggler,{onClick:this.toggleCollapse}),r.a.createElement(p.Collapse,{id:"navbarCollapse3",isOpen:this.state.isOpen,navbar:!0},r.a.createElement(p.NavbarNav,{left:!0},r.a.createElement(p.NavItem,null,r.a.createElement(p.NavLink,{to:"/personTable"},"People")),r.a.createElement(p.NavItem,null,r.a.createElement(p.NavLink,{to:"/projectTable"},"Projects")),r.a.createElement(p.NavItem,null,r.a.createElement(p.NavLink,{to:"/allocationTable"},"Allocation")),r.a.createElement(p.NavItem,null,r.a.createElement(p.NavLink,{to:"/spendingTable"},"Spending")),r.a.createElement(p.NavItem,null,r.a.createElement(p.NavLink,{to:"/remaningTable"},"Remaning")),r.a.createElement(p.NavItem,null,r.a.createElement(p.NavLink,{to:"/endBalanceTable"},"End Balance")),r.a.createElement(p.NavItem,null,r.a.createElement(p.NavLink,{to:"/project/pdf/pdf.php"},"Save File"))),r.a.createElement(p.NavItem,{onClick:function(){return(new f).saveAll()},className:"navbarSave"},"SAVE CHANGES /")))}}]),t}(r.a.Component),y=a(23),C=a.n(y),j=(a(97),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(c.a)(t).call(this,e))).options={width:"100%",start:new Date,end:new Date,groupOrder:"id",orientation:{axis:"bottom",item:"bottom"},editable:{add:!0,remove:!0,updateGroup:!1,updateTime:!0},zoomMax:756864e6,zoomMin:20736e5,align:"center",stack:!1,type:"range",onAdd:function(e,t){a.onAdd(e,t)},onRemove:function(e,t){a.onRemove(e,t)},onMoving:function(e,t){a.onMoving(e,t)},onMove:function(e,t){a.onMove(e,t)},onInitialDrawComplete:function(){a.onInitialDrawComplete()},onUpdate:function(e,t){a.onUpdate(e,t)}},a.toggleGroups=function(){a.showEmptyGroups=!a.showEmptyGroups,a.toggleRef.current.innerHTML=a._getToggleText(),a.updateTimelineGroups()},a.state={},a.items=new C.a.DataSet({}),a.groups=new C.a.DataSet({}),a.total=[],a.PHPController=new f,a.timeline=null,a.showEmptyGroups=!0,a.init=!0,a.toggleRef=r.a.createRef(),a.preInit(),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"preInit",value:function(){this.createGroups()}},{key:"postInit",value:function(){this.createTotalTimeline(),this.attachEvents()}},{key:"componentDidMount",value:function(){var e=document.getElementById("timeline");this.timeline=new C.a.Timeline(e,this.items,this.groups,this.options),this.postInit()}},{key:"onAdd",value:function(e,t){if(void 0!=e.group&&-1!=e.group&&null!=this.props.personId){var a=this.convertDateToYYYYMMDD(e.start),n=this.convertDateToYYYYMMDD(e.end),r={Id:"T"+e.id,personId:this.props.personId,projectId:e.group,Percentage:"100",StartDate:a,EndDate:n,Flag:"I"};e.id="T"+e.id,e.content="100",this.PHPController.insertAllocation(r),this.alertProjectEndExceeded(e),t(e),this.createTotalTimeline()}else t(null)}},{key:"onRemove",value:function(e,t){var a={Id:e.id,Flag:"D"};this.PHPController.deleteAllocation(a),t(e),this.createTotalTimeline()}},{key:"onMoving",value:function(e,t){this.alertProjectEndExceeded(e),t(e)}},{key:"onUpdate",value:function(e,t){if(-1!=e.group){var a=prompt("Input employment rate:",e.content);if(null!=a&&(a=a.trim()),""==a||a<0||a>200)t(null);else if(Math.floor(a)==a){e.content=a;var n=this.convertDateToYYYYMMDD(e.start),r=this.convertDateToYYYYMMDD(e.end),l={Id:e.id,Flag:"U",StartDate:n,EndDate:r,Percentage:e.content};this.PHPController.updateAllocation(l),t(e),this.createTotalTimeline()}else t(null)}else t(null)}},{key:"onMove",value:function(e,t){if(e.start>=e.end)t(null);else{var a=this.convertDateToYYYYMMDD(e.start),n=this.convertDateToYYYYMMDD(e.end),r={Id:e.id,Flag:"U",StartDate:a,EndDate:n,Percentage:e.content};this.PHPController.updateAllocation(r),t(e),this.createTotalTimeline()}}},{key:"onInitialDrawComplete",value:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),n=11==a?0:a+1,r=11==a?t+1:t;this.timeline.setWindow(new Date(t,a,1),new Date(r,n,1),{animation:!1})}},{key:"convertDateToYYYYMMDD",value:function(e){var t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate();return a<10&&(a="0"+a),n<10&&(n="0"+n),t+"-"+a+"-"+n}},{key:"alertProjectEndExceeded",value:function(e){e.style=e.end>this.groups.get(e.group).end?"background: rgba(175, 0, 0, 1);":""}},{key:"attachEvents",value:function(){var e=this;this.timeline.on("contextmenu",function(t){if(t.event.preventDefault(),null!=t.item&&-1!=t.group){var a=e.timeline.getEventProperties(t.event);e.splitAllocation(t.item,a.snappedTime._d)}}),this.timeline.on("rangechanged",function(t,a,n){e.updateTotalTimeline()}),this.items.on("add",function(t,a,n){if(null!=n&&n.total){var r=n.rate>175?175:n.rate,l=document.getElementsByClassName(n.id)[0];void 0!=l&&(l.style.height=r+"px",e.timeline.redraw())}})}},{key:"splitAllocation",value:function(e,t){var a=this.items.get(e),n=a.start,r=a.end,l=a.content,o=a.group,i=a.id;if(!(t>=r||t<=n)){this.PHPController.deleteAllocation({Id:a.id,Flag:"D"}),this.items.remove(a.id);var s="T"+i+"1",d="T"+i+"2",c={id:s,content:l,start:n,end:t,group:o},h={id:d,content:l,start:t,end:r,group:o},p={Id:s,personId:this.props.personId,projectId:o,Percentage:l,StartDate:n,EndDate:t,Flag:"I"},u={Id:d,personId:this.props.personId,projectId:o,Percentage:l,StartDate:t,EndDate:r,Flag:"I"};this.PHPController.insertAllocation(p),this.PHPController.insertAllocation(u),this.alertProjectEndExceeded(c),this.alertProjectEndExceeded(h),this.items.add(c),this.items.add(h)}}},{key:"addAllocation",value:function(e){var t={id:e.Id,content:e.Percentage,start:new Date(e.StartDate),end:new Date(e.EndDate),group:e.projectId};this.alertProjectEndExceeded(t),this.items.add(t)}},{key:"setTimelineHeight",value:function(e,t){var a=50*e+70+150;t?this.options.height=a:this.timeline.setOptions({height:a})}},{key:"updateTotalTimeline",value:function(){console.log("updateTotalTimeline()"),this.items.remove(this.items.get({filter:function(e){return-1==e.group}})),this._createTotalTimeline()}},{key:"createTotalTimeline",value:function(){console.log("createTotalTimeline()"),this.items.remove(this.items.get({filter:function(e){return-1==e.group}}));var e=new C.a.DataSet({}),t=this.items.get(),a=t.length;if(this.total=[],!(a<1)){for(var n=0;n<a;n++)e.add({date:t[n].start}),e.add({date:t[n].end});var r,l=e.get({fields:["date"],order:"date",type:{date:"Date"}}),o=[],i=l[0];for(n=0;n<l.length;n++)i.date<l[n].date&&(o.push({start:i.date,end:l[n].date}),i=l[n]);for(var s=0;s<o.length;s++){r=0;for(n=0;n<t.length;n++)t[n].start<=o[s].start&&t[n].end>=o[s].end&&(r+=parseInt(t[n].content));r>0&&this.total.push({start:o[s].start,end:o[s].end,rate:r,tag:s})}this._createTotalTimeline()}}},{key:"_createTotalTimeline",value:function(){for(var e=this.total.length,t=0;t<e;t++){var a="totalItem-"+this.total[t].tag,n=this.total[t].rate,r=this.getColor(n),l={content:"",start:this.total[t].start,end:this.total[t].end,group:-1,className:a,editable:!1,style:r},o={id:a,rate:n,total:!0};this.items.add(l,o)}}},{key:"getColor",value:function(e){return e<=25?"background: #00b855":e<=50?"background: #00e56b":e<=75?"background: #00ff77":e<=100?"background: #38ff94":e<=125?"background: #fdcb6e":e<=150?"background: #ff6666":"background: #d63031"}},{key:"getAllocations",value:function(e){var t=this;null!=e&&(this.items.clear(),this.PHPController.getAllocation(e).forEach(function(e){return t.addAllocation(e)}))}},{key:"createGroups",value:function(){var e=this.PHPController.getProjects();this.groups.add({id:-1,content:"",className:"pg-totalTimeline"});for(var t=0;t<e.length;t++)this.groups.add({id:e[t].Id,content:e[t].Name,end:new Date(e[t].EndDate),visible:!0})}},{key:"updateTimelineGroups",value:function(){var e=this.items.distinct("group"),t=this.groups.getIds(),a=t.filter(function(t){return!(e.indexOf(t)>-1)&&-1!=t});this._showAllGroups();for(var n=0;n<a.length;n++)this.groups.update({id:a[n],visible:this.showEmptyGroups});var r=this.showEmptyGroups?t.length:t.length-a.length;!!this.timeline&&(console.log("Timeline Initialized"),this.setTimelineHeight(r,!1),this.timeline.redraw())}},{key:"_showAllGroups",value:function(){for(var e=this.groups.getIds(),t=0;t<this.groups.length;t++)this.groups.update({id:e[t],visible:!0})}},{key:"_getToggleText",value:function(){return this.showEmptyGroups?"COLLAPASE":"EXPAND"}},{key:"render",value:function(){console.log("RENDER: AllocationView.jsx"),this.getAllocations(this.props.personId),this.createTotalTimeline(),this.updateTimelineGroups();var e=this._getToggleText();return r.a.createElement("div",{className:"prog-av"},r.a.createElement("div",{className:"prog-av-user"},this.props.personName),r.a.createElement("button",{className:"togglebtn",onClick:this.toggleGroups,ref:this.toggleRef},e),r.a.createElement("div",{className:"prog-av-container"},r.a.createElement("div",{id:"timeline"})))}}]),t}(n.Component)),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(c.a)(t).call(this,e))).handleChange=function(){a.setState({searchString:a.refs.search.value})},a.state={searchString:""},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.refs.search.focus()}},{key:"render",value:function(){var e=this;console.log("RENDER: Search.jsx");var t=this.props.persons,a=this.state.searchString.trim().toLowerCase();return a.length>0&&(t=t.filter(function(e){return e.Name.toLowerCase().match(a)})),r.a.createElement("div",{className:"pg-search"},r.a.createElement("h2",null,"SEARCH STAFFING"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:this.state.searchString,ref:"search",onChange:this.handleChange,placeholder:"Type name here"}),r.a.createElement("ul",{className:"pg-search-list"},t.map(function(t){return r.a.createElement("li",{className:"pg-search-list",onClick:function(){return e.props.updateAllocationView(t.Id,t.Name)}},t.Name," ",r.a.createElement("a",{href:"#"},t.email))}))))}}]),t}(n.Component),F=(a(99),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(c.a)(t).call(this,e))).updateAllocationView=function(e,t){a.setState({selectedId:e,selectedName:t})},a.PHPController=new f,a.state={selectedId:null,selectedName:"",persons:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.PHPController.getPersons();this.setState({persons:e})}},{key:"render",value:function(){return console.log("RENDER: AllocationTab.jsx"),r.a.createElement("div",{className:"prog-at"},r.a.createElement(x,{updateAllocationView:this.updateAllocationView,persons:this.state.persons}),r.a.createElement(j,{personId:this.state.selectedId,personName:this.state.selectedName}))}}]),t}(n.Component)),P=a(2),D=(a(19),a(15)),N=(a(34),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(c.a)(t).call(this,e))).createCustomInsertButton=function(e){return r.a.createElement("button",{type:"button",className:"btn btn-dark m-1",onClick:e,style:{paddingLeft:15,paddingRight:15,paddingTop:8,paddingBottom:8}},"Add")},a.createCustomDeleteButton=function(e){return r.a.createElement("button",{type:"button",className:"btn btn-dark m-1",onClick:e,style:{paddingLeft:15,paddingRight:15,paddingTop:8,paddingBottom:8}},"Delete")},a.onAddRow=function(e,t,a){return""==e.Name?"Please enter a name.":""==e.Salary?"Please enter a salary.":isNaN(e.Salary)?"Salary must be a number.":e.Salary<0?"Salary must be positive.":""==e.SocialFactor?"Please enter a social factor.":isNaN(e.SocialFactor)?"Social factor must be a number.":e.SocialFactor<0||e.SocialFactor>9.99?"Social Factor must be in the range of 0 - 9.99.":""==e.IncrementFactor?"Please enter an increment factor.":isNaN(e.IncrementFactor)?"Increment factor must be a number.":e.IncrementFactor<0||e.IncrementFactor>9.99?"Increment Factor must be in the range of 0 - 9.99.":void a()},a.PHPController=new f,a.state={persons:[],hidden:!0},a.options={defaultSortName:"Name",defaultSortOrder:"desc"},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.PHPController.getPersons();this.setState({persons:e})}},{key:"onAfterInsertRow",value:function(e){e.Id="T"+e.Id,this.PHPController=new f;var t={Id:e.Id,Name:e.Name,Salary:e.Salary,SocialFactor:e.SocialFactor,IncrementFactor:e.IncrementFactor,Flag:"I"};this.PHPController.insertPerson(t)}},{key:"onAfterDeleteRow",value:function(e,t){console.log(e),console.log(t);for(var a=new f,n=0;n<t.length;n++){e[n];var r={Id:e[n],Flag:"D"};a.deletePerson(r)}}},{key:"onBeforeSaveCell",value:function(e,t,a){return""==a?(D.toast.error(function(e){e.closeToast;return r.a.createElement("div",null,"The field can not be empty.")}),!1):"Salary"!=t&&"SocialFactor"!=t&&"IncrementFactor"!=t||!isNaN(a)?"Salary"==t&&a<0?(D.toast.error(function(e){e.closeToast;return r.a.createElement("div",null,"The value must be positive.")}),!1):"SocialFactor"!=t&&"IncrementFactor"!=t||!(a<0||a>9.99)||(D.toast.error(function(e){e.closeToast;return r.a.createElement("div",null,"The value must be in the range of 0 - 9.99.")}),!1):(D.toast.error(function(e){e.closeToast;return r.a.createElement("div",null,"The value must be a number.")}),!1)}},{key:"onAfterSaveCell",value:function(e,t,a){var n=new f,r={Id:e.Id,Name:e.Name,Salary:e.Salary,SocialFactor:e.SocialFactor,IncrementFactor:e.IncrementFactor,Flag:"U"};n.updatePerson(r)}},{key:"render",value:function(){var e={insertBtn:this.createCustomInsertButton,deleteBtn:this.createCustomDeleteButton,onAddRow:this.onAddRow,afterInsertRow:this.onAfterInsertRow,afterDeleteRow:this.onAfterDeleteRow},t={mode:"click",blurToSave:!0,beforeSaveCell:this.onBeforeSaveCell,afterSaveCell:this.onAfterSaveCell};return r.a.createElement("div",{className:"tableDiv"},r.a.createElement(D.ToastContainer,null),r.a.createElement(P.BootstrapTable,{data:this.state.persons,cellEdit:t,selectRow:{mode:"checkbox"},options:e,insertRow:!0,deleteRow:!0,tableStyle:{backgroundColor:"#eeeeee"}},r.a.createElement(P.TableHeaderColumn,{dataField:"Id",isKey:!0,dataSort:!0,hidden:this.state.hidden,autoValue:!0},"Id"),r.a.createElement(P.TableHeaderColumn,{dataField:"Name",dataSort:!0},"Name"),r.a.createElement(P.TableHeaderColumn,{dataField:"Salary",dataSort:!0},"Salary"),r.a.createElement(P.TableHeaderColumn,{dataField:"SocialFactor",dataSort:!0},"Social Factor"),r.a.createElement(P.TableHeaderColumn,{dataField:"IncrementFactor",dataSort:!0},"Increment Factor")))}}]),t}(n.Component)),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(c.a)(t).call(this,e))).createCustomInsertButton=function(e){return r.a.createElement("button",{type:"button",className:"btn btn-dark m-1",onClick:e,style:{paddingLeft:15,paddingRight:15,paddingTop:8,paddingBottom:8}},"Add")},a.createCustomDeleteButton=function(e){return r.a.createElement("button",{type:"button",className:"btn btn-dark m-1",onClick:e,style:{paddingLeft:15,paddingRight:15,paddingTop:8,paddingBottom:8}},"Delete")},a.onAddRow=function(e,t,a){return""==e.Name?"Please enter a name.":""==e.EndDate?"Please enter an end date.":10!=e.EndDate.length||"-"!=e.EndDate.charAt(4)||"-"!=e.EndDate.charAt(7)?"Please use the following date format: XXXX-XX-XX.":""==e.ExternalSalary?"Please enter External Salary.":isNaN(e.ExternalSalary)?"External Salary must be a number.":""==e.ExternalOverhead?"Please enter External Overhead.":isNaN(e.ExternalOverhead)?"External Overhead must be a number.":""==e.ExternalOtherCost?"Please enter External Other Cost.":isNaN(e.ExternalOtherCost)?"External Other Cost must be a number.":""==e.InternalSalary?"Please enter Internal Salary.":isNaN(e.InternalSalary)?"Internal Salary must be a number.":""==e.InternalOverhead?"Please enter Internal Overhead.":isNaN(e.InternalOverhead)?"Internal Overhead must be a number.":""==e.InternalOtherCost?"Please enter Internal Other Cost.":isNaN(e.InternalOtherCost)?"Internal Other Cost must be a number.":""==e.OverheadConstant?"Please enter Overhead Constant.":isNaN(e.OverheadConstant)?"Overhead Constant must be a number.":e.OverheadConstant<0||e.OverheadConstant>9.99?"Overhead Constant must be in the range of 0 - 9.99.":""==e.Stl?"Please enter STL.":isNaN(e.Stl)?"Stl must be a number.":0!=e.Stl&&1!=e.Stl?"STL must be 1 (true) or 0 (false).":void a()},a.PHPController=new f,a.state={projects:[],hidden:!0},a.options={defaultSortName:"Name",defaultSortOrder:"desc"},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.PHPController.getProjects();this.setState({projects:e})}},{key:"onAfterInsertRow",value:function(e){e.Id="T"+e.Id,this.PHPController=new f;var t={Id:e.Id,Name:e.Name,EndDate:e.EndDate,ExternalSalary:e.ExternalSalary,ExternalOverhead:e.ExternalOverhead,ExternalOtherCost:e.ExternalOtherCost,InternalSalary:e.InternalSalary,InternalOverhead:e.InternalOverhead,InternalOtherCost:e.InternalOtherCost,OverheadConstant:e.OverheadConstant,Stl:e.Stl,SpendingDate:"",SpendingExternalSalary:"0",SpendingExternalOverhead:"0",SpendingExternalOtherCost:"0",SpendingInternalSalary:"0",SpendingInternalOverhead:"0",SpendingInternalOtherCost:"0",Flag:"I"};this.PHPController.insertProject(t)}},{key:"onAfterDeleteRow",value:function(e,t){for(var a=new f,n=0;n<t.length;n++){e[n];var r={Id:e[n],Flag:"D"};a.deleteProject(r)}}},{key:"onBeforeSaveCell",value:function(e,t,a){return""==a?(D.toast.error(function(e){e.closeToast;return r.a.createElement("div",null,"Value can not be empty.")}),!1):"ExternalSalary"!=t&&"ExternalOverhead"!=t&&"ExternalOtherCost"!=t&&"InternalSalary"!=t&&"InternalOtherCost"!=t&&"InternalOverhead"!=t&&"OverheadConstant"!=t&&"Stl"!=t||!isNaN(a)?"EndDate"!=t||10==a.length&&"-"==a.charAt(4)&&"-"==a.charAt(7)?"OverheadConstant"==t&&(a<0||a>9.99)?(D.toast.error(function(e){e.closeToast;return r.a.createElement("div",null,"Overhead Constant must be in the range of 0 - 9.99.")}),!1):"Stl"!=t||0==a||1==a||(D.toast.error(function(e){e.closeToast;return r.a.createElement("div",null,"STL must be 1 (true) or 0 (false).")}),!1):(D.toast.error(function(e){e.closeToast;return r.a.createElement("div",null,"Please use the following date format: XXXX-XX-XX.")}),!1):(D.toast.error(function(e){e.closeToast;return r.a.createElement("div",null,"Value must be a number.")}),!1)}},{key:"onAfterSaveCell",value:function(e,t,a){var n=new f,r={Id:e.Id,Name:e.Name,EndDate:e.EndDate,ExternalSalary:e.ExternalSalary,ExternalOverhead:e.ExternalOverhead,ExternalOtherCost:e.ExternalOtherCost,InternalSalary:e.InternalSalary,InternalOverhead:e.InternalOverhead,InternalOtherCost:e.InternalOtherCost,OverheadConstant:e.OverheadConstant,Stl:e.Stl,SpendingDate:e.SpendingDate,SpendingExternalSalary:e.SpendingExternalSalary,SpendingExternalOverhead:e.SpendingExternalOverhead,SpendingExternalOtherCost:e.SpendingExternalOtherCost,SpendingInternalSalary:e.SpendingInternalSalary,SpendingInternalOverhead:e.SpendingInternalOverhead,SpendingInternalOtherCost:e.SpendingInternalOtherCost,Flag:"U"};n.updateProject(r)}},{key:"render",value:function(){var e={insertBtn:this.createCustomInsertButton,deleteBtn:this.createCustomDeleteButton,onAddRow:this.onAddRow,afterInsertRow:this.onAfterInsertRow,afterDeleteRow:this.onAfterDeleteRow},t={mode:"click",blurToSave:!0,beforeSaveCell:this.onBeforeSaveCell,afterSaveCell:this.onAfterSaveCell};return r.a.createElement("div",{className:"tableDiv"},r.a.createElement(D.ToastContainer,null),r.a.createElement(P.BootstrapTable,{data:this.state.projects,cellEdit:t,selectRow:{mode:"checkbox"},options:e,insertRow:!0,deleteRow:!0,tableStyle:{backgroundColor:"#eeeeee"}},r.a.createElement(P.TableHeaderColumn,{dataField:"Id",isKey:!0,dataSort:!0,hidden:this.state.hidden,autoValue:!0},"Id"),r.a.createElement(P.TableHeaderColumn,{dataField:"Name",dataSort:!0},"Name"),r.a.createElement(P.TableHeaderColumn,{dataField:"EndDate",dataSort:!0},"End Date"),r.a.createElement(P.TableHeaderColumn,{dataField:"ExternalSalary",dataSort:!0},"Ext. Salary"),r.a.createElement(P.TableHeaderColumn,{dataField:"ExternalOverhead",dataSort:!0},"Ext. Overhead"),r.a.createElement(P.TableHeaderColumn,{dataField:"ExternalOtherCost",dataSort:!0},"Ext. Other Costs"),r.a.createElement(P.TableHeaderColumn,{dataField:"InternalSalary",dataSort:!0},"Int. Salary"),r.a.createElement(P.TableHeaderColumn,{dataField:"InternalOverhead",dataSort:!0},"Int. Overhead"),r.a.createElement(P.TableHeaderColumn,{dataField:"InternalOtherCost",dataSort:!0},"Int. Other Costs"),r.a.createElement(P.TableHeaderColumn,{dataField:"OverheadConstant",dataSort:!0},"Overhead Const."),r.a.createElement(P.TableHeaderColumn,{dataField:"Stl",dataSort:!0},"STL")))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(c.a)(t).call(this,e))).PHPController=new f,a.state={spendings:[],hidden:!0},a.options={defaultSortName:"Name",defaultSortOrder:"desc"},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.PHPController.getProjects();this.setState({spendings:e})}},{key:"onBeforeSaveCell",value:function(e,t,a){return""==a?(D.toast.error(function(e){e.closeToast;return r.a.createElement("div",null,"Value can not be empty.")}),!1):"SpendingExternalSalary"!=t&&"SpendingExternalOverhead"!=t&&"SpendingExternalOtherCost"!=t&&"SpendingInternalSalary"!=t&&"SpendingInternalOtherCost"!=t&&"SpendingInternalOverhead"!=t||!isNaN(a)?"SpendingDate"!=t||10==a.length&&"-"==a.charAt(4)&&"-"==a.charAt(7)||(D.toast.error(function(e){e.closeToast;return r.a.createElement("div",null,"Please use the following date format: XXXX-XX-XX.")}),!1):(D.toast.error(function(e){e.closeToast;return r.a.createElement("div",null,"Value must be a number.")}),!1)}},{key:"onAfterSaveCell",value:function(e,t,a){var n=new f,r={Id:e.Id,Name:e.Name,EndDate:e.EndDate,ExternalSalary:e.ExternalSalary,ExternalOverhead:e.ExternalOverhead,ExternalOtherCost:e.ExternalOtherCost,InternalSalary:e.InternalSalary,InternalOverhead:e.InternalOverhead,InternalOtherCost:e.InternalOtherCost,OverheadConstant:e.OverheadConstant,Stl:e.Stl,SpendingDate:e.SpendingDate,SpendingExternalSalary:e.SpendingExternalSalary,SpendingExternalOverhead:e.SpendingExternalOverhead,SpendingExternalOtherCost:e.SpendingExternalOtherCost,SpendingInternalSalary:e.SpendingInternalSalary,SpendingInternalOverhead:e.SpendingInternalOverhead,SpendingInternalOtherCost:e.SpendingInternalOtherCost,Flag:"U"};n.updateProject(r)}},{key:"render",value:function(){var e={mode:"click",blurToSave:!0,beforeSaveCell:this.onBeforeSaveCell,afterSaveCell:this.onAfterSaveCell};return r.a.createElement("div",{className:"tableDiv"},r.a.createElement(D.ToastContainer,null),r.a.createElement(P.BootstrapTable,{data:this.state.spendings,cellEdit:e,tableStyle:{backgroundColor:"#eeeeee"}},r.a.createElement(P.TableHeaderColumn,{dataField:"Id",isKey:!0,dataSort:!0,hidden:this.state.hidden,autoValue:!0},"Id"),r.a.createElement(P.TableHeaderColumn,{dataField:"Name",dataSort:!0},"Name"),r.a.createElement(P.TableHeaderColumn,{dataField:"SpendingDate",dataSort:!0},"Spending Date"),r.a.createElement(P.TableHeaderColumn,{dataField:"SpendingExternalSalary",dataSort:!0},"Ext. Salary"),r.a.createElement(P.TableHeaderColumn,{dataField:"SpendingExternalOverhead",dataSort:!0},"Ext. Overhead"),r.a.createElement(P.TableHeaderColumn,{dataField:"SpendingExternalOtherCost",dataSort:!0},"Ext. Other Costs"),r.a.createElement(P.TableHeaderColumn,{dataField:"SpendingInternalSalary",dataSort:!0},"Int. Salary"),r.a.createElement(P.TableHeaderColumn,{dataField:"SpendingInternalOverhead",dataSort:!0},"Int. Overhead"),r.a.createElement(P.TableHeaderColumn,{dataField:"InternalOtherCost",dataSort:!0},"Int. Other Costs")))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(c.a)(t).call(this,e))).PHPController=new f,a.state={remainings:[],hidden:!0},a.options={defaultSortName:"Name",defaultSortOrder:"desc"},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.PHPController.getRemainings();this.setState({remainings:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"tableDiv"},r.a.createElement(P.BootstrapTable,{data:this.state.remainings,tableStyle:{backgroundColor:"#eeeeee"}},r.a.createElement(P.TableHeaderColumn,{dataField:"Id",isKey:!0,dataSort:!0,hidden:this.state.hidden,autoValue:!0},"Id"),r.a.createElement(P.TableHeaderColumn,{dataField:"Name",dataSort:!0},"Name"),r.a.createElement(P.TableHeaderColumn,{dataField:"SpendingDate",dataSort:!0},"Spending Date"),r.a.createElement(P.TableHeaderColumn,{dataField:"ExternalSalary",dataSort:!0},"Ext. Salary"),r.a.createElement(P.TableHeaderColumn,{dataField:"ExternalOverhead",dataSort:!0},"Ext. Overhead"),r.a.createElement(P.TableHeaderColumn,{dataField:"ExternalOtherCost",dataSort:!0},"Ext. Other Costs"),r.a.createElement(P.TableHeaderColumn,{dataField:"InternalSalary",dataSort:!0},"Int. Salary"),r.a.createElement(P.TableHeaderColumn,{dataField:"InternalOverhead",dataSort:!0},"Int. Overhead"),r.a.createElement(P.TableHeaderColumn,{dataField:"InternalOtherCost",dataSort:!0},"Int. Other Costs")))}}]),t}(n.Component);function w(e,t){var a="gray";return parseInt(e)<0&&(a="red"),r.a.createElement("span",null,r.a.createElement("strong",{style:{color:a}},parseInt(e)))}function H(e,t){var a=parseInt(t.InternalOverhead)+parseInt(t.ExternalOverhead)+parseInt(t.InternalSalary)+parseInt(t.ExternalSalary)+parseInt(t.InternalOtherCost)+parseInt(t.ExternalOtherCost),n="gray";return a<0&&(n="red"),r.a.createElement("span",null,r.a.createElement("strong",{style:{color:n}},a))}var R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(c.a)(t).call(this,e))).handleEvent=function(e){a.state.hidden=!a.state.hidden;var t=a.PHPController.getEndBalances();a.setState({endbalances:t})},a.PHPController=new f,a.state={endbalances:[],hidden:!0},a.options={defaultSortName:"Name",defaultSortOrder:"desc"},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.PHPController.getEndBalances();this.setState({endbalances:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"tableDiv"},r.a.createElement("button",{type:"button",class:"btn btn-dark m-2",onClick:this.handleEvent,style:{paddingLeft:15,paddingRight:15,paddingTop:8,paddingBottom:8,width:100}},function(e){var t="Toggle";return t=0==e?"Collapse":"Expand",r.a.createElement("span",null,t)}(this.state.hidden)),r.a.createElement(P.BootstrapTable,{data:this.state.endbalances,tableStyle:{backgroundColor:"#eeeeee"}},r.a.createElement(P.TableHeaderColumn,{dataField:"Id",isKey:!0,dataSort:!0,hidden:!0,autoValue:!0},"Id"),r.a.createElement(P.TableHeaderColumn,{dataField:"Name",dataSort:!0},"Name"),r.a.createElement(P.TableHeaderColumn,{dataField:"EndBalance",dataSort:!0,dataFormat:H},"End Balance"),r.a.createElement(P.TableHeaderColumn,{dataField:"ExternalSalary",dataSort:!0,hidden:this.state.hidden,dataFormat:w},"Ext. Salary"),r.a.createElement(P.TableHeaderColumn,{dataField:"InternalSalary",dataSort:!0,hidden:this.state.hidden,dataFormat:w},"Int. Salary"),r.a.createElement(P.TableHeaderColumn,{dataField:"ExternalOverhead",dataSort:!0,hidden:this.state.hidden,dataFormat:w},"Ext. Overhead"),r.a.createElement(P.TableHeaderColumn,{dataField:"InternalOverhead",dataSort:!0,hidden:this.state.hidden,dataFormat:w},"Int. Overhead"),r.a.createElement(P.TableHeaderColumn,{dataField:"ExternalOtherCost",dataSort:!0,hidden:this.state.hidden,dataFormat:w},"Ext. Other Costs"),r.a.createElement(P.TableHeaderColumn,{dataField:"InternalOtherCost",dataSort:!0,hidden:this.state.hidden,dataFormat:w},"Int. Other Costs")))}}]),t}(n.Component),B=a(21),M=a(58),Y=a(60),X=a.n(Y),L=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(X.a,{backgroundColor:"#3d3d3d"},r.a.createElement(r.a.Fragment,null,r.a.createElement(O,null),r.a.createElement(B.a,{path:"/allocationTable",component:F}),r.a.createElement(B.a,{path:"/personTable",component:N}),r.a.createElement(B.a,{path:"/projectTable",component:k}),r.a.createElement(B.a,{path:"/spendingTable",component:A}),r.a.createElement(B.a,{path:"/remaningTable",component:_}),r.a.createElement(B.a,{path:"/endBalanceTable",component:R})))}}]),t}(n.Component),G=Object(M.a)(L);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=a(61),V=a.n(U),J=r.a.createElement(V.a,null,r.a.createElement(G,null));o.a.render(J,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},62:function(e,t,a){e.exports=a(154)},67:function(e,t,a){},69:function(e,t,a){},99:function(e,t,a){}},[[62,2,1]]]);
//# sourceMappingURL=main.f6d7d47e.chunk.js.map